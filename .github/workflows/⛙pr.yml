
name: â›™pr


on:
  workflow_dispatch:
  workflow_call:
    inputs:
      settings_token:
        required: false
        type: string
        default: '.'

jobs:
    create_pull_request:




        name: 'Create PR'
        # if: github.ref == 'refs/heads/dev'
        runs-on: ubuntu-latest
        # needs:
        #   - deploy
        permissions:
          pull-requests: write
        steps:
          - name: Install 1Password CLI
            uses: 1password/install-cli-action@v1

          - name: Load credentials
            uses: 1password/load-secrets-action@v1
            id: op-load-secrets
            with:
              export-env: false
            env:
              OP_SERVICE_ACCOUNT_TOKEN: ${{ secrets.OP_SERVICE_ACCOUNT_TOKEN }}
              TOKEN: "op://git/GITHUB/TOKEN"

        - uses: actions/checkout@v4
          with:
              fetch-depth: 0
              token: ${{ steps.op-load-secrets.outputs.TOKEN }}
      
          - name: Create Pull Request
            uses: peter-evans/create-pull-request@v5

    
        # - name: create pull request
        #   run: gh pr create -B main -H dev --title 'Merge dev into main' --body 'Created by Github action'
        #   env:
        #       GITHUB_TOKEN: ${{ steps.op-load-secrets.outputs.TOKEN }}